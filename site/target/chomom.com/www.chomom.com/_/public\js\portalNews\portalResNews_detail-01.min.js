$define(["wgt_util","wgt_readyload","jquery.qrcode","swiper4.4.2","jquery.mediaQuery"],function(e,a,t,i,n,r){function o(a){var t=parseInt(a.find(".p_NewsDetail").attr("data-infoid")),i={id:t,appTag:3},n="/commentViewCount/ajax/updateAndGetViewCount";e.ajax({type:"GET",url:n,data:i,async:!1,success:function(e){console.log(e);var t="string"==typeof e?JSON.parse(e):e;t&&200==t.status&&a.find(".p_viewCount").html(t.data)}})}var s=function(a){a=this._params;var i,n,r=a.id,s=$compCl.getScope(r),l=(a.params.imgRelativeData,"fraction"),c=!1,p=function(){if(!(s.find(".p_imgsBox").length<=0)){n&&n.destroy(),i&&i.destroy(),n=new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0});var e={swiper:n};i=new Swiper(".gallery-top",{autoplay:{delay:2e3,disableOnInteraction:!1},spaceBetween:0,slidesPerView:"auto",pagination:{el:".swiper-pagination",type:l,bulletClass:"dot",bulletActiveClass:"current",clickable:c},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:e}),a.params.autoPlay?i.autoplay&&i.autoplay.start():i.autoplay&&i.autoplay.stop()}};if(e.mediaQuery({callback1024:function(){l="fraction",p()},callback7681024:function(){l="fraction",p()},callback768:function(){l="bullets",{},c=!0,p()},keep:!0}),a.params.c_qrcode){s.find(".p_SaveText").css("display","block");var d=commonShortUrl+a.params.c_qrcode,u=a.params.qrcodeWidth,y=a.params.qrcodeHeight;s.find(".js_qrcode").qrcode({width:u,height:y,render:"canvas",text:d})}else s.find(".p_SaveText").css("display","none");t.lazyImg(),o(s)};return{init:s}});