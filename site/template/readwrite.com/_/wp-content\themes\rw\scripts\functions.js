(function($){var $body,$window,$sidebar,adminbarOffset,top=false,bottom=false,windowWidth,windowHeight,lastWindowPos=0,topOffset=0,bodyHeight,sidebarHeight,resizeTimer,secondary,button;function initMainNavigation(container){container.find('.menu-item-has-children > a').after('<button class="dropdown-toggle" aria-expanded="false">'+screenReaderText.expand+'</button>');container.find('.current-menu-ancestor > button').addClass('toggle-on');container.find('.current-menu-ancestor > .sub-menu').addClass('toggled-on');container.find('.menu-popup').click(function(e){openNav();});$('.closebtn').on('click',function(e){closeNav();});}
function openNav(){$("#mySidenav").addClass('popup-open');}
function closeNav(){$("#mySidenav").removeClass('popup-open');}
initMainNavigation($('.main-navigation'));$(document).on('customize-preview-menu-refreshed',function(e,params){if('primary'===params.wpNavMenuArgs.theme_location){initMainNavigation(params.newContainer);params.oldContainer.find('.dropdown-toggle.toggle-on').each(function(){var containerId=$(this).parent().prop('id');$(params.newContainer).find('#'+containerId+' > .dropdown-toggle').triggerHandler('click');});}});secondary=$('#secondary');button=$('.site-branding').find('.secondary-toggle');(function(){var menu,widgets,social;if(!secondary.length||!button.length){return;}
menu=secondary.find('.nav-menu');widgets=secondary.find('#widget-area');social=secondary.find('#social-navigation');if(!widgets.length&&!social.length&&(!menu.length||!menu.children().length)){button.hide();return;}
button.on('click.wptheme',function(){secondary.toggleClass('toggled-on');secondary.trigger('resize');$(this).toggleClass('toggled-on');if($(this,secondary).hasClass('toggled-on')){$(this).attr('aria-expanded','true');secondary.attr('aria-expanded','true');}else{$(this).attr('aria-expanded','false');secondary.attr('aria-expanded','false');}});})();function onResizeARIA(){if(955>$window.width()){button.attr('aria-expanded','false');secondary.attr('aria-expanded','false');button.attr('aria-controls','secondary');}else{button.removeAttr('aria-expanded');secondary.removeAttr('aria-expanded');button.removeAttr('aria-controls');}}
function resize(){windowWidth=$window.width();if(955>windowWidth){top=bottom=false;$sidebar.removeAttr('style');}}
function scroll(){var windowPos=$window.scrollTop();if(955>windowWidth){return;}
sidebarHeight=$sidebar.height();windowHeight=$window.height();bodyHeight=$body.height();if(sidebarHeight+adminbarOffset>windowHeight){if(windowPos>lastWindowPos){if(top){top=false;topOffset=($sidebar.offset().top>0)?$sidebar.offset().top-adminbarOffset:0;$sidebar.attr('style','top: '+topOffset+'px;');}else if(!bottom&&windowPos+windowHeight>sidebarHeight+$sidebar.offset().top&&sidebarHeight+adminbarOffset<bodyHeight){bottom=true;}}else if(windowPos<lastWindowPos){if(bottom){bottom=false;topOffset=($sidebar.offset().top>0)?$sidebar.offset().top-adminbarOffset:0;$sidebar.attr('style','top: '+topOffset+'px;');}else if(!top&&windowPos+adminbarOffset<$sidebar.offset().top){top=true;}}else{top=bottom=false;topOffset=($sidebar.offset().top>0)?$sidebar.offset().top-adminbarOffset:0;$sidebar.attr('style','top: '+topOffset+'px;');}}else if(!top){top=true;}
lastWindowPos=windowPos;}
function resizeAndScroll(){resize();scroll();}
$(document).ready(function(){$body=$(document.body);$window=$(window);$sidebar=$('#sidebar').first();adminbarOffset=$body.is('.admin-bar')?$('#wpadminbar').height():0;$window.on('scroll.wptheme',scroll).on('load.wptheme',onResizeARIA).on('resize.wptheme',function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(resizeAndScroll,500);onResizeARIA();});$sidebar.on('click.wptheme keydown.wptheme','button',resizeAndScroll);resizeAndScroll();for(var i=1;i<6;i++){setTimeout(resizeAndScroll,100*i);}});$('#sort-cat .most-populat-cat').on('click',function(){$('#sort-cat .latest-cat').removeClass('active');$('#sort-cat .most-populat-cat').addClass('active');$('#cat-latest').stop().animate({opacity:0},500);$('#cat-latest').hide();$('#cat-most-popular').stop().animate({opacity:1},500);$('#cat-most-popular').show();});$('#sort-cat .latest-cat').on('click',function(){$('#sort-cat .most-populat-cat').removeClass('active');$('#sort-cat .latest-cat').addClass('active');$('#cat-most-popular').stop().animate({opacity:0},500);$('#cat-most-popular').hide();$('#cat-latest').show();$('#cat-latest').stop().animate({opacity:1,marginTop:"0"},500);});$(".mobile-search .search-icon").on("click",function(){$('.mobile-search .search-form .search-field').animate({top:'1em'},'slow');$('.mobile-search .search-form').show();$('.mobile-search .closesearch').show();});$(".mobile-search .closesearch").on("click",function(){$('.mobile-search .closesearch').hide();$('.mobile-search .search-form').hide();});$(document).on('click',function(event){if(!$(event.target).closest('.mobile-search').length){$('.mobile-search .search-form .search-field').animate({top:'-10em'},'slow');$('.mobile-search .search-form').hide();$('.mobile-search .closesearch').hide();}});})(jQuery);